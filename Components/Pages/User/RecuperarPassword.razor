@page "/recuperar-password"
@using TiendaVirtual.Service;
@inject AuthService authService
@inject ISnackbar Snackbar

<MudPaper Class="pa-4 mx-auto" Style="max-width: 400px;">
    <MudText Typo="Typo.h5">Recuperar Contrase침a</MudText>
    <MudTextField T="string" Label="Correo electr칩nico" @bind-Value="email" Required="true" />
    <MudTextField T="string" Label="Nueva contrase침a" @bind-Value="newPassword" InputType="InputType.Password" Required="true" />
    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="HandleReset">Restablecer</MudButton>
</MudPaper>

@code {
    private string email = string.Empty;
    private string newPassword = string.Empty;

    private async Task HandleReset()
    {
        var success = await authService.ResetPasswordAsync(email, newPassword);
        if (success)
            Snackbar.Add("Contrase침a actualizada correctamente", Severity.Success);
        else
            Snackbar.Add("Correo no encontrado", Severity.Error);
    }
}